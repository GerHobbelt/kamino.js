/*! Kamino v0.0.1 | http://github.com/Cyril-sf/kamino.js | Copyright 2012, Kit Cambridge | http://kit.mit-license.org */
;(function(){var s=!0,y=null;
(function(i){function G(b,a,c){var d=b[a],f;if("object"==typeof d&&d)if("[object Array]"==m.call(d))for(f=d.length;f--;)H(d,f,c);else D(d,function(b){H(d,b,c)});return c.call(b,a,d)}function H(b,a,c){c=G(b,a,c);void 0===c?delete b[a]:b[a]=c}function E(b){var a,c;"$"==b&&h();if("string"==typeof b){if("@"==b[0])return b.slice(1);if("["==b){a=[];for(q[q.length]=a;;c||(c=s)){b=l();if("]"==b)break;c&&(","==b?(b=l(),"]"==b&&h()):h());","==b&&h();a.push(E("string"==typeof b&&w?b.split(""):b))}return a}if("{"==
b){a={};for(q[q.length]=a;;c||(c=s)){b=l();if("}"==b)break;c&&(","==b?(b=l(),"}"==b&&h()):h());(","==b||"string"!=typeof b||"@"!=b[0]||":"!=l())&&h();var d=l();a[b.slice(1)]=E("string"==typeof d&&w?d.split(""):d)}return a}h()}return b}function l(){for(var b=r,g=b.length,c,d,f;a<g;)if(c=b[a],-1<"\t\r\n ".indexOf(c))a++;else{if(-1<"{}[]:,".indexOf(c))return a++,c;if('"'==c)return v("@");if("%"==c){if(a++,c=b[a],'"'==c)return b=v(),new Date(b)}else if("^"==c){if(a++,c=b[a],'"'==c&&(d=v(),c=b[a],'"'==
c))return b=v(),RegExp(d,b)}else if("&"==c){if(a++,c=b[a],"0"<=c&&"9">=c)return a++,q[c]}else{d=a;"-"==c&&(f=s,c=b[++a]);if("0"<=c&&"9">=c){for("0"==c&&(c=b[a+1],"0"<=c&&"9">=c)&&h();a<g&&(c=b[a],"0"<=c&&"9">=c);a++);if("."==b[a]){for(f=++a;f<g&&(c=b[f],"0"<=c&&"9">=c);f++);f==a&&h();a=f}c=b[a];if("e"==c||"E"==c){c=b[++a];("+"==c||"-"==c)&&a++;for(f=a;f<g&&(c=b[f],"0"<=c&&"9">=c);f++);f==a&&h();a=f}return+b.slice(d,a)}f&&h();if("true"==b.slice(a,a+4))return a+=4,s;if("false"==b.slice(a,a+5))return a+=
5,!1;if("Infinity"==b.slice(a,a+8))return a+=8,Infinity;if("NInfinity"==b.slice(a,a+9))return a+=9,-Infinity;if("NaN"==b.slice(a,a+3))return a+=3,NaN;if("null"==b.slice(a,a+4))return a+=4,y}h()}return"$"}function v(b){var g=r,c=g.length,d,f,p,b=b||"";for(a++;a<c;)if(d=g[a]," ">d)h();else if("\\"==d)if(d=g[++a],-1<'\\"/btnfr'.indexOf(d))b+=J[d],a++;else if("u"==d){f=++a;for(p=a+4;a<p;a++)d=g[a],"0"<=d&&"9">=d||"a"<=d&&"f">=d||"A"<=d&&"F">=d||h();b+=K("0x"+g.slice(f,a))}else h();else{if('"'==d)break;
b+=d;a++}if('"'==g[a])return a++,b;h()}function h(){a=r=y;throw SyntaxError();}function F(b,a,c,d,f,p,A){var e=a[b],j,n,h,i,l,q,r,v,x,k,z;k="";if(e instanceof Error||e instanceof Element||e instanceof Function)throw DOMException;if("object"==typeof e&&e)if(j=m.call(e),"[object Date]"==j&&!o.call(e,"toJSON"))if(e>-1/0&&e<1/0){if(B){i=t(e/864E5);for(n=t(i/365.2425)+1970-1;B(n+1,0)<=i;n++);for(h=t((i-B(n,0))/30.42);B(n,h+1)<=i;h++);i=1+i-B(n,h);l=(e%864E5+864E5)%864E5;q=t(l/36E5)%24;r=t(l/6E4)%60;v=
t(l/1E3)%60;l%=1E3}else n=e.getUTCFullYear(),h=e.getUTCMonth(),i=e.getUTCDate(),q=e.getUTCHours(),r=e.getUTCMinutes(),v=e.getUTCSeconds(),l=e.getUTCMilliseconds();e=(0>=n||1E4<=n?(0>n?"-":"+")+u(6,0>n?-n:n):u(4,n))+"-"+u(2,h+1)+"-"+u(2,i)+"T"+u(2,q)+":"+u(2,r)+":"+u(2,v)+"."+u(3,l)+"Z"}else e=y;else if("function"==typeof e.toJSON&&("[object Number]"!=j&&"[object String]"!=j&&"[object Array]"!=j||o.call(e,"toJSON")))e=e.toJSON(b);c&&(e=c.call(a,b,e));if(e===y)return"null";if(void 0!==e){b=m.call(e);
if("[object Boolean]"==b)return""+e;if("[object Number]"==b)return e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"NInfinity":isNaN(e)?"NaN":""+e;if("[object RegExp]"==b)return j=e.source,k+=e.ignoreCase?"i":"",k+=e.global?"g":"",k+=e.multiline?"m":"",j=C(w?j.split(""):j),k=C(w?k.split(""):k),e="^"+j+k;if("[object String]"==b)return e=C(w?e.split(""):e),"[object Date]"==j&&(e="%"+e),e;if("object"==typeof e){for(k=A.length;k--;)if(A[k]===e)return"&"+k;A.push(e);x=[];j=p;p+=f;
if("[object Array]"==b){a=0;for(k=e.length;a<k;z||(z=s),a++)b=F(a,e,c,d,f,p,A),x.push(void 0===b?"null":b);k=z?f?"[\n"+p+x.join(",\n"+p)+"\n"+j+"]":"["+x.join(",")+"]":"[]"}else D(d||e,function(b){var a=F(b,e,c,d,f,p,A);void 0!==a&&x.push(C(w?b.split(""):b)+":"+(f?" ":"")+a);z||(z=s)}),k=z?f?"{\n"+p+x.join(",\n"+p)+"\n"+j+"}":"{"+x.join(",")+"}":"{}";return k}}}function C(b){for(var a='"',c=0,d;d=b[c];c++)a+=-1<'\\"\u0008\u000c\n\r\t'.indexOf(d)?I[d]:I[d]=" ">d?"\\u00"+u(2,d.charCodeAt(0).toString(16)):
d;return a+'"'}function u(b,a){return("000000"+(a||0)).slice(-b)}var m={}.toString,o,D;Kamino={};"undefined"!==typeof exports?("undefined"!==typeof module&&module.a&&(exports=module.a=Kamino),exports.c=Kamino):i.Kamino=Kamino;Kamino.VERSION="0.1.0";i=new Date(-3509827334573292);try{i=-109252==i.getUTCFullYear()&&0===i.getUTCMonth()&&1==i.getUTCDate()&&10==i.getUTCHours()&&37==i.getUTCMinutes()&&6==i.getUTCSeconds()&&708==i.getUTCMilliseconds()}catch(M){}var w="A"!="A"[0];if(!i)var t=Math.floor,L=
[0,31,59,90,120,151,181,212,243,273,304,334],B=function(b,a){return L[a]+365*(b-1970)+t((b-1969+(a=+(a>1)))/4)-t((b-1901+a)/100)+t((b-1601+a)/400)};if(!(o={}.hasOwnProperty))o=function(a){var g={},c;if((g.__proto__=y,g.__proto__={toString:1},g).toString!=m)o=function(a){var b=this.__proto__,a=a in(this.__proto__=y,this);this.__proto__=b;return a};else{c=g.constructor;o=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}}g=y;return o.call(this,a)};D=function(a,
g){var c=0,d,f,h;(d=function(){this.valueOf=0}).prototype.valueOf=0;f=new d;for(h in f)o.call(f,h)&&c++;d=f=y;if(c)c=c==2?function(a,b){var c={},d=m.call(a)=="[object Function]",f;for(f in a)!(d&&f=="prototype")&&!o.call(c,f)&&(c[f]=1)&&o.call(a,f)&&b(f)}:function(a,b){var c=m.call(a)=="[object Function]",d,f;for(d in a)!(c&&d=="prototype")&&o.call(a,d)&&!(f=d==="constructor")&&b(d);(f||o.call(a,d="constructor"))&&b(d)};else{f=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf",
"hasOwnProperty","constructor"];c=function(a,b){var c=m.call(a)=="[object Function]",d;for(d in a)!(c&&d=="prototype")&&o.call(a,d)&&b(d);for(c=f.length;d=f[--c];o.call(a,d)&&b(d));}}c(a,g)};var I={"\\":"\\\\",'"':'\\"',"\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};Kamino.stringify=function(a,g,c){var d,f,h;if(typeof g=="function"||typeof g=="object"&&g)if(m.call(g)=="[object Function]")f=g;else if(m.call(g)=="[object Array]"){h={};for(var i=0,e=g.length,j;i<e;j=g[i++],(m.call(j)==
"[object String]"||m.call(j)=="[object Number]")&&(h[j]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return F("",(j={},j[""]=a,j),f,h,d,"",[])};var K=String.fromCharCode,J={"\\":"\\",'"':'"',"/":"/",b:"\u0008",t:"\t",n:"\n",f:"\u000c",r:"\r"},a,r,q;Kamino.parse=function(b,g){var c,d;a=0;r=""+b;q=[];w&&(r=b.split(""));c=E(l());l()!="$"&&h();a=r=y;return g&&m.call(g)=="[object Function]"?
G((d={},d[""]=c,d),"",g):c}})(this);
}());